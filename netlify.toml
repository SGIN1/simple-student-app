# netlify.toml

[build]
  base = "/"
  publish = "public"
  functions = "netlify/functions"

[functions]
  included_files = [
    "public/**", # هذا السطر يضمن تضمين مجلد public بالكامل، بما في ذلك مجلد الخطوط الجديد
    "node_modules/mongodb/**",
    "node_modules/bson/**"
  ]

# قاعدة إعادة التوجيه لوظيفة Netlify Function
[[redirects]]
  from = "/certificate/:id"
  to = "/.netlify/functions/generateCertificateTwo2/:id"
  status = 200
  force = true

# قاعدة إعادة التوجيه لصورة الشهادة بحجمها الأساسي عبر Netlify Image CDN
# هذا يضمن أن الصورة wwee.jpg سيتم جلبها بحجمها الأصلي
[[redirects]]
  from = "/images/full/wwee.jpg"
  to = "/.netlify/images?url=/images_temp/wwee.jpg" # تأكد أن هذا هو المسار الفعلي لصورك في public
  status = 200